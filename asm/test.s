.section .resetvec, "aw"
.balign 2
	.word	0x4406

.section .text
.balign 2
	MOV	#23168, &0x015c
	MOV	#0x6002, SP
	MOV	#0, SR
	MOV	#0x6008, R4
	MOV	#0x600a, R5
	MOV	#0x600c, R6
	MOV	#0x600e, R7
	MOV	#0x6010, R8
	MOV	#0x6012, R9
	MOV	#0x6014, R10
	MOV	#0x6016, R11
	MOV	#0x6018, R12
	MOV	#0x601a, R13
	MOV	#0x601c, R14
	MOV	#0x601e, R15
	
	MOV	#0x6000, &0x6000
	MOV	#0x6002, &0x6002
	MOV	#0x6004, &0x6004
	MOV	#0x6006, &0x6006
	MOV	#0x6008, &0x6008
	MOV	#0x600a, &0x600a
	MOV	#0x600c, &0x600c
	MOV	#0x600e, &0x600e
	MOV	#0x6010, &0x6010
	MOV	#0x6012, &0x6012
	MOV	#0x6014, &0x6014
	MOV	#0x6016, &0x6016
	MOV	#0x6018, &0x6018
	MOV	#0x601a, &0x601a
	MOV	#0x601c, &0x601c
	MOV	#0x601e, &0x601e
	MOV	#0x3fff, &0x6020
	
	MOV	#0x6000, &0xc000
	MOV	#0x6002, &0xc002
	MOV	#0x6004, &0xc004
	MOV	#0x6006, &0xc006
	MOV	#0x6008, &0xc008
	MOV	#0x600a, &0xc00a
	MOV	#0x600c, &0xc00c
	MOV	#0x600e, &0xc00e
	MOV	#0x6010, &0xc010
	MOV	#0x6012, &0xc012
	MOV	#0x6014, &0xc014
	MOV	#0x6016, &0xc016
	MOV	#0x6018, &0xc018
	MOV	#0x601a, &0xc01a
	MOV	#0x601c, &0xc01c
	MOV	#0x601e, &0xc01e
	MOV	#0x6000, &0xc020
	MOV	#0x6002, &0xc022
	MOV	#0x6004, &0xc024
	MOV	#0x6006, &0xc026
	MOV	#0x6008, &0xc028
	MOV	#0x600a, &0xc02a
	MOV	#0x600c, &0xc02c
	MOV	#0x600e, &0xc02e
	MOV	#0x6010, &0xc030
	MOV	#0x6012, &0xc032
	MOV	#0x6014, &0xc034
	MOV	#0x6016, &0xc036
	MOV	#0x6018, &0xc038
	MOV	#0x601a, &0xc03a
	MOV	#0x601c, &0xc03c
	MOV	#0x601e, &0xc03e
	MOV	#0x3fff, &0xc040

	;; test code here!

	sub     @r4+,   8423(r5)
	
	.word	0x3fff	; halt
	.word	0x3fff	; halt
